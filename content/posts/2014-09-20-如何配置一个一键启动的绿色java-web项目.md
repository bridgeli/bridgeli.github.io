---
title: 如何配置一个一键启动的绿色Java web项目
author: Bridge Li
type: post
date: 2014-09-20T11:01:16+00:00

duoshuo_thread_id:
  - 1.1604454626757E+18
categories:
  - Java
---
我们知道部署J2EE项目，要首先安装JDK，配环境变量，在安装tomcat，然后MySQL数据库（当然也可以是其他任何你喜欢的数据库），把项目打一个war包放到tomcat的webapps包下面，启动tomcat就可以了，但在某些情况下，例如测试美工等，尤其是美工他们的电脑很多时候没必要安装这些乱七八糟的东西，那么我们是否可以不安装这些东西，而让让美工们的电脑跑项目呢？答案是可以的，我们只需要拷贝一个JDK、MySQL、tomcat到美工的电脑，再把项目拷到tomcat的webapps下，写一个bat的文件，让bat文件设置JDK目录、安装MySQL的服务，调用tomcat启动的命令就可以了，srartup.bat代码如下：

```

set HOME=C:Layout

set JAVA_HOME=%HOME%jdk  
set CLASSPATH=%JAVA_HOME%lib

set CATALINA_HOME=%HOME%tomcat  
set CATALINA_BASE=%HOME%tomcat

set MYSQL_HOME=%HOME%mysql

set PATH=%PATH%;%JAVA_HOME%bin;%MYSQL_HOME%bin;

taskkill /f /im explorer.exe  
start explorer.exe  
RunDll32.exe USER32.DLL,UpdatePerUserSystemParameters

echo start lms_mysql on localhost  
mysqld &#8211;install lms_mysql &#8211;defaults-file=%MYSQL_HOME%my.ini  
net start lms_mysql

echo start tomcat on localhost  
@Rem Run Tomcat&#8230;  
Call %CATALINA_HOME%binstartup.bat

```

shutdown.bat

```

@echo off  
echo stop lms_mysql  
net stop lms_mysql  
mysqld &#8211;remove lms_mysql  
echo on  
Call %CATALINA_HOME%binshutdown.bat

```