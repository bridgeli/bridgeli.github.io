---
title: 全文索引服务solr入门二之认识管理后台
author: Bridge Li
type: post
date: 2016-06-11T14:28:53+00:00

categories:
  - 全文索引
tags:
  - Lucene
  - solr

---
二. 认识solr管理后台

上一篇文章中我们搭建起来的其实就是一个solr管理后台，这节课我们就是来简单认识他，具体的操作当然由大家自己试验了。下面我们先直接选择左侧的默认collection1你会看到下面出来很多东西，其中有几个比较重要：Analyzer、Documents、Query，下面我们认识第一个：Analyzer。

1. 认识Analyzer

查看当前索引库中的字段列表，及分词效果。

[<img loading="lazy" decoding="async" src="https://www.bridgeli.cn/wp-content/uploads/2016/06/analyzer-300x144.png" alt="analyzer" width="300" height="144" class="alignnone size-medium wp-image-279" />][1]

①. 域、字段列表：所有的域都是定义在schema.xml配置文件中。在solr中域必须是先定义后使用。  
如果想修改域的定义及自定义域需要修改schema.xml。  
②. 查看域的分词效果。  
可以直接在Field Value中贴一段文字，然后点击按钮Analyzer Values，查看效果。  
需要说明的是：默认对英文支持尚可，中文支持很差。实际生产用zk中文分词

2. Documents

索引库的维护功能。可以对索引库进行增删改操作。

[<img loading="lazy" decoding="async" src="https://www.bridgeli.cn/wp-content/uploads/2016/06/documents-300x235.png" alt="documents" width="300" height="235" class="alignnone size-medium wp-image-280" />][2]

①. 添加文档

I. 在solr中一条记录就是一个文档。  
II. 文档可以使用json数据格式描述：key就是域名（字段名），value：值。  
III. 在solr中每个文档必须有一个id域。类似于关系型数据库中表的主键。必须有且不能重复。  
IV. 域必须先定义后使用。必须在schema.xml中定义。

②. 更新文档

添加一个新的文档如果id存在会想把id对应的文档删除，然后再添加以新的。先删除后添加。

③. 删除文档

I. 根据id删除

```

<delete>  
<id>a001</id>  
</delete>  
<commit/>

```

II. 根据查询删除

删除所有文档：  
```  
<delete>  
<query>\*:\*</query>  
</delete>  
<commit/>  
```

删除指定id的文档：  
```  
<delete>  
<query>id:change.me</query>  
</delete>  
<commit/>  
```

3. Query

查询索引库

[<img loading="lazy" decoding="async" src="https://www.bridgeli.cn/wp-content/uploads/2016/06/query-300x228.png" alt="query" width="300" height="228" class="alignnone size-medium wp-image-281" />][3]

q:查询条件  
fq：过滤条件，查询语句和查询的语法完全相同。可以设置多个过滤条件  
sort：排序条件  
start rows：分页条件。start起始记录，rows每页显示的记录数。  
fl：返回结果中域的列表  
df：默认搜索域  
hl：高亮显示  
hl.fl：高亮显示的域  
hl.simple.pre：高亮前缀  
hl.simple.post：高亮后缀

说到这里，对这个solr管理后台的简单认识就完了，只要读者自己多动手实践几次，对这个后台将会熟练掌握，但是仅仅有这个后台在实际生产中肯定是不够的，所以在下一篇文章中老夫将会介绍solr的客户端solrj的简单应用，那可是可以直接早生产中用了哦

 [1]: https://www.bridgeli.cn/wp-content/uploads/2016/06/analyzer.png
 [2]: https://www.bridgeli.cn/wp-content/uploads/2016/06/documents.png
 [3]: https://www.bridgeli.cn/wp-content/uploads/2016/06/query.png