---
title: 日志的配置
author: Bridge Li
type: post
date: 2014-08-29T13:57:41+00:00

duoshuo_thread_id:
  - 1.1604454626757E+18
categories:
  - Java
---
在系统开发中，尤其是上线后，没有日志那绝对是一件不可想象的事，但日志的配置却很简单，一般配置后只要做少量的修改，几乎可以永远到处都可以用了，下面给出日志配置的一般方法。

注：该配置的Jar包为：log4j、slf4j-api、slf-log4j，即使用slf日志接口，log4j的实现（当然你也可以使用其他的实现，例如hibernate自带的slf的实现）这一目前为止的最佳实践。

```

log4j.rootCategory=INFO, stdout, logfile, errorLog

log4j.appender.stdout=org.apache.log4j.ConsoleAppender

log4j.appender.stdout.layout=org.apache.log4j.PatternLayout

log4j.appender.stdout.layout.ConversionPattern=%d{ABSOLUTE} %5p %t %c{2}:%L &#8211; %m%n

#log4j.category.org.springframework.beans.factory=info

log4j.appender.consoleAppender.layout.ConversionPattern =ProcessDefinitionId=%X{mdcProcessDefinitionID}

executionId=%X{mdcExecutionId} mdcProcessInstanceID=%X{mdcProcessInstanceID} mdcBusinessKey=%X{mdcBusinessKey} %m%n"

log4j.appender.logfile=org.apache.log4j.DailyRollingFileAppender

log4j.appender.logfile.file=C:/invoice/log/log.log

log4j.appender.logfile.layout=org.apache.log4j.PatternLayout

log4j.appender.logfile.DatePattern=&#8217;.&#8217;yyyy-MM-dd

#log4j.appender.logfile.layout.ConversionPattern=[%d %6p at %C.%M(%F:%L)] %m%n

log4j.appender.logfile.layout.ConversionPattern=%d{yyyy-MM-dd HH:mm:ss} %l  %m%n

log4j.appender.logfile.Threshold=INFO

log4j.appender.errorLog=org.apache.log4j.DailyRollingFileAppender

log4j.appender.errorLog.file=C:/invoice/log/error.log

log4j.appender.errorLog.layout=org.apache.log4j.PatternLayout

log4j.appender.errorLog.DatePattern=&#8217;.&#8217;yyyy-MM-dd

log4j.appender.errorLog.layout.ConversionPattern=[%d %6p at %C.%M(%F:%L)] %m%n

log4j.appender.errorLog.Threshold=ERROR

# SQL:

#log4j.logger.com.ibatis=DEBUG

#log4j.logger.com.ibatis.common.jdbc.SimpleDataSource=DEBUG

#log4j.logger.com.ibatis.sqlmap.engine.cache.CacheModel=DEBUG

#log4j.logger.com.ibatis.sqlmap.engine.impl.SqlMapClientImpl=DEBUG

#log4j.logger.com.ibatis.sqlmap.engine.builder.xml.SqlMapParser=DEBUG

#log4j.logger.com.ibatis.common.util.StopWatch=DEBUG

#log4j.logger.java.sql.Connection=DEBUG

#log4j.logger.java.sql.Statement=DEBUG

#log4j.logger.java.sql.PreparedStatement=DEBUG

#log4j.logger.java.sql.ResultSet=DEBUG

```

注：这是一最简单的一种配置，还有很多其他的配置项可以灵活配置，例如打印hibernate的SQL语句，而且还可以配置当产生error级别的日志时，自动发送邮件到指定邮箱，具体请参考：http://futeng.iteye.com/blog/2109231