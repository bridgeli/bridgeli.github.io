<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>401 on 分享技术带来的喜悦</title>
    <link>http://localhost:1313/tags/401/</link>
    <description>Recent content in 401 on 分享技术带来的喜悦</description>
    <generator>Hugo -- 0.156.0</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 20 May 2018 08:17:54 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/401/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>上传 Java 库到 Maven central repository</title>
      <link>http://localhost:1313/posts/2018-05-20-%E4%B8%8A%E4%BC%A0-java-%E5%BA%93%E5%88%B0-maven-central-repository/</link>
      <pubDate>Sun, 20 May 2018 08:17:54 +0000</pubDate>
      <guid>http://localhost:1313/posts/2018-05-20-%E4%B8%8A%E4%BC%A0-java-%E5%BA%93%E5%88%B0-maven-central-repository/</guid>
      <description>&lt;p&gt;之前看过 Trinea 写过一篇文章，如果上传 Java 库到 Maven central repository，前一段时间感觉公司封装的 mybatis-generator 不好用，完全没有解决原生的 mybatis-generator 的问题，所以就重新做了一次封装，主要是加了查询分页，然后就想到是不是可以上传到 Maven central repository 玩玩，看了一下 Trinea 的这篇文章感觉挺简单的（原文见后面参考资料），但实际上还是有一些坑，具体的可以看 Trinea 的这篇文章，我主要写一下遇到的一些坑。&lt;/p&gt;
&lt;p&gt;先说明一下，pom 文件请参考我的配置：https://github.com/bridgeli/mybatis-generator-plugin/blob/master/pom.xml，这里面所有的配置都是必须的，也是最少的了吧，自己写的时候修改一些内容，适配自己的就好了，Trinea 写的那个 pom 还是比较适合 Android。&lt;/p&gt;
&lt;p&gt;发布 release 版本的时候，使用命令&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
mvn release:clean release:prepare release:perform
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;执行这个命令的时候，可能会遇到三个问题。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Git 报错，使用 Git 几年了，进入会遇到这样的错误。错误信息：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
Unable to commit files  
[ERROR] Provider message:  
[ERROR] The git-add command failed.  
[ERROR] Command output:
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;实在不知道咋回事，可能是我有些文件没提交，反正提交之后就好了，看到有人说他报错是因为他不是 Git 管理的项目，我作为 Git 脑残粉，肯定是的，可能就是因为没有提交吧，反正最后就这么莫名其妙的解决了。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;提示没有 snapshot 版本，所以执行这个命令的时候，版本号和发布 snapshot 一样就好，而不是自己手动改成 release 版。&lt;/li&gt;
&lt;li&gt;因为此时会发布一个 release 版本，会有 tag 推送到 GitHub 有可能会遇到 401，看到这个 error code，应该都清楚咋回事，没权限。不知道，病急乱投医，我是在 GitHub 上添加了一个 GPG key 并且在 pom 文件中新增一个 plugin。这个问题有人说是账号和密码错误，但是我很肯定我的账号和密码一点也没有错。&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;lt;plugin&amp;gt;  
&amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;  
&amp;lt;artifactId&amp;gt;maven-gpg-plugin&amp;lt;/artifactId&amp;gt;  
&amp;lt;version&amp;gt;1.5&amp;lt;/version&amp;gt;  
&amp;lt;executions&amp;gt;  
&amp;lt;execution&amp;gt;  
&amp;lt;id&amp;gt;sign-artifacts&amp;lt;/id&amp;gt;  
&amp;lt;phase&amp;gt;verify&amp;lt;/phase&amp;gt;  
&amp;lt;goals&amp;gt;  
&amp;lt;goal&amp;gt;sign&amp;lt;/goal&amp;gt;  
&amp;lt;/goals&amp;gt;  
&amp;lt;/execution&amp;gt;  
&amp;lt;/executions&amp;gt;  
&amp;lt;/plugin&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;最终解决了这个问题，关于这个问题，可能是我操作的问题没有看到过别人说过，另外在 GitHub 上他的颜色一直还是：灰的，没有显示使用过，所以可能是我操作的有问题，不需要在 GitHub 上添加这个 GPG key，具体大家可以测一下，我后期也会测试。&lt;br&gt;
另，需要说明的是，生成 GPG key 的时候用到的邮箱和我在 GitHub 上的邮箱，我用的不是同一个邮箱，建议还是用同一个吧，省得出莫名其妙的问题。&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
