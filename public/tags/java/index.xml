<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>Java on 分享技术带来的喜悦</title>
    <link>http://localhost:1313/tags/java/</link>
    <description>Recent content in Java on 分享技术带来的喜悦</description>
    <generator>Hugo -- 0.156.0</generator>
    <language>zh-cn</language>
    <lastBuildDate>Sun, 02 Aug 2015 14:28:34 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/java/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>工作流Activiti5入门（上）</title>
      <link>http://localhost:1313/posts/2015-08-02-%E5%B7%A5%E4%BD%9C%E6%B5%81activiti5%E5%85%A5%E9%97%A8%E4%B8%8A/</link>
      <pubDate>Sun, 02 Aug 2015 14:28:34 +0000</pubDate>
      <guid>http://localhost:1313/posts/2015-08-02-%E5%B7%A5%E4%BD%9C%E6%B5%81activiti5%E5%85%A5%E9%97%A8%E4%B8%8A/</guid>
      <description>&lt;p&gt;刚工作的时候曾经用Activiti5，但由于当时介于水平，对Activiti5并没有很深的理解，而且知识也没有形成一个体系，前一段时间偶然发现传智播客公布了一个关于Activiti5的教学视频，自己跟着看了一下，感觉有很多收获，所以打算写几篇博文，整理一下，以供将来如有需要的话可以查阅，今天记下学习的前一部分，称为Activiti5上。&lt;/p&gt;
&lt;p&gt;一. Activiti5开发环境搭建和配置&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;开发环境搭建&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;Activiti5开发一个工作流系统，首先肯定是要搭建环境的，关于搭建环境老夫窃以为这篇文章：http://www.zhengmenbb.com/archives/98.htm，写的很不错，这篇文章不仅写了怎么搭建环境，还有一个小小的例子，大家可以先看一下，看了这篇文章，我相信大家搭建好环境不是问题，因为就是装一个插件而已，很简单。&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;配置&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;现在的任何框架几乎都要和spring相整合，否则几乎可以说是玩不转，所以我们的Activiti5要想流行起来也不能例外，下面我们先看看他们怎么整合的。&lt;br&gt;
spring的整合肯定要引入spring的jar包，这个老夫默认大家都会了，如果不会的话，我相信也不会看到这篇文章，至于Activiti5要引入那些jar文件，可以参考这个&lt;/p&gt;
&lt;p&gt;(1). 部分pom文件&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;lt;dependency&amp;gt;  
&amp;lt;groupId&amp;gt;org.activiti&amp;lt;/groupId&amp;gt;  
&amp;lt;artifactId&amp;gt;activiti-engine&amp;lt;/artifactId&amp;gt;  
&amp;lt;version&amp;gt;5.11&amp;lt;/version&amp;gt;  
&amp;lt;/dependency&amp;gt;  
&amp;lt;dependency&amp;gt;  
&amp;lt;groupId&amp;gt;org.activiti&amp;lt;/groupId&amp;gt;  
&amp;lt;artifactId&amp;gt;activiti-spring&amp;lt;/artifactId&amp;gt;  
&amp;lt;version&amp;gt;5.11&amp;lt;/version&amp;gt;  
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;我们可以先把最基本的引入，如果不够肯定会报classnotfoundexception，到时候我们就知道缺少哪个了，老夫的原则是能少引入绝不多引入，原因一是怕冲突，二是文件大小和启动速度&lt;/p&gt;
&lt;p&gt;(2). 和spring集成的配置文件activiti.cfg.xml&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;lt;beans xmlns=&amp;#34;http://www.springframework.org/schema/beans&amp;#34;  
xmlns:context=&amp;#34;http://www.springframework.org/schema/context&amp;#34; xmlns:tx=&amp;#34;http://www.springframework.org/schema/tx&amp;#34;  
xmlns:xsi=&amp;#34;http://www.w3.org/2001/XMLSchema-instance&amp;#34;  
xsi:schemaLocation=&amp;#34;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd  
http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-2.5.xsd  
http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd&amp;#34;&amp;gt;

&amp;lt;bean id=&amp;#34;processEngineConfiguration&amp;#34; class=&amp;#34;org.activiti.engine.impl.cfg.StandaloneProcessEngineConfiguration&amp;#34;&amp;gt;  
&amp;lt;!&amp;amp;#8211; 连接数据的配置 &amp;amp;#8211;&amp;gt;  
&amp;lt;property name=&amp;#34;jdbcDriver&amp;#34; value=&amp;#34;com.mysql.jdbc.Driver&amp;#34;&amp;gt;&amp;lt;/property&amp;gt;  
&amp;lt;property name=&amp;#34;jdbcUrl&amp;#34; value=&amp;#34;jdbc:mysql://localhost:3306/itcast0711activiti?useUnicode=true&amp;amp;characterEncoding=utf8&amp;#34;&amp;gt;&amp;lt;/property&amp;gt;  
&amp;lt;property name=&amp;#34;jdbcUsername&amp;#34; value=&amp;#34;root&amp;#34;&amp;gt;&amp;lt;/property&amp;gt;  
&amp;lt;property name=&amp;#34;jdbcPassword&amp;#34; value=&amp;#34;root&amp;#34;&amp;gt;&amp;lt;/property&amp;gt;  
&amp;lt;!&amp;amp;#8211; 没有表创建表 &amp;amp;#8211;&amp;gt;  
&amp;lt;property name=&amp;#34;databaseSchemaUpdate&amp;#34; value=&amp;#34;true&amp;#34;&amp;gt;&amp;lt;/property&amp;gt;  
&amp;lt;/bean&amp;gt;

&amp;lt;/beans&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;这个集成文件简单吧？对，就是这么简单，至于spring等其他的配置文件啊，log的配置文件就不多说了，接下来我们要开始Activiti5的实战：开始写代码。&lt;/p&gt;
&lt;p&gt;二. Activiti5实战&lt;/p&gt;
&lt;p&gt;Activiti5实战，所以第一步肯定是画图，但装好了环境之后，其实上面那篇文章是有怎么画图的，所以画图这个就先讲怎么花了，大家可以画一个最简单的练手，本文作为一个入门教程，也不会涉及到那些复杂的图，所以第一步，咱直接开始启动流程定义。&lt;/p&gt;
&lt;p&gt;因为Activiti5所有的操作都和ProcessEngine相关，所以所有的操作都和ProcessEngine相关，我们就先获取这个对象，当做第0步吧：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
ProcessEngine processEngine = ProcessEngines.getDefaultProcessEngine();
&lt;/code&gt;&lt;/pre&gt;&lt;ol&gt;
&lt;li&gt;部署流程定义&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;部署流程定义，有两种，1. 从zip部署，也就是把我们的流程图压缩成zip，然后上传到项目的根目录，部署流程。&lt;/p&gt;</description>
    </item>
    <item>
      <title>Hadoop集群搭建及运行初步</title>
      <link>http://localhost:1313/posts/2015-06-28-hadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA%E5%8F%8A%E8%BF%90%E8%A1%8C%E5%88%9D%E6%AD%A5/</link>
      <pubDate>Sun, 28 Jun 2015 14:18:20 +0000</pubDate>
      <guid>http://localhost:1313/posts/2015-06-28-hadoop%E9%9B%86%E7%BE%A4%E6%90%AD%E5%BB%BA%E5%8F%8A%E8%BF%90%E8%A1%8C%E5%88%9D%E6%AD%A5/</guid>
      <description>&lt;p&gt;一直以来对Hadoop都非常有兴趣，所以这一段时间研究可以下Hadoop集群的搭建，今天写一篇小文章，主要是当做自己的笔记，因为写Hadoop怎么搭建的太多了，好了废话不多说，下面开始正文&lt;/p&gt;
&lt;p&gt;一、环境准备&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;系统环境&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;因为我个人比较喜欢Linux，另外很多资料都是基于Linux的，所以本文也不能例外，系统当然是Linux啦，开发是老夫最喜欢的Ubuntu，当然这个是看自己喜欢那个版本&lt;/p&gt;
&lt;ol start=&#34;2&#34;&gt;
&lt;li&gt;安装JDK&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;运行Hadoop需要jre环境，所以如果你的机器没有装JDK，那么就装吧，Ubuntu可以用apt-get install安装，也可以到这个地方：http://www.oracle.com/technetwork/java/javase/downloads/index.html下载然后安装，我个人比较喜欢后一种，因为这么我们可以自己选择装到哪个地方，有利于我们自己配JAVA_HOME、CLASSPATH以及PATH，配置如下：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
vim /etc/profile
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后在里面添加：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
export JAVA_HOME=/home/jdk1.7.0_40  
export CLASSPATH=&amp;#34;.:$JAVA_HOME/lib:$CLASSPATH&amp;#34;  
export PATH=&amp;#34;$JAVA_HOME/:$JAVA_HOME/bin:$PATH&amp;#34;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;然后执行生效&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
source /etc/profile
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;我们可以任何目录下面测试JDK安装是否成功&lt;/p&gt;
&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;实现SSH无密码登陆&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;因为hadoop namenode要悄悄的SSH到各datanode中去启动相应的JVM进程，所以必须实现namenode能无密码登陆到datanode所在机器&lt;/p&gt;
&lt;p&gt;配置命令如下：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
sudo apt-get install ssh  
ssh-keygen -t rsa -P &amp;amp;#8221; -f ~/.ssh/id_rsa  
cat /home/.ssh/id_rsa.pub &amp;gt;&amp;gt; ~/.ssh/authorized_keys
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;可以用命令：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
ssh localhost
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;检查是否配置成功，如果有提示授权成功等字样，则表示配置成功。&lt;/p&gt;
&lt;p&gt;二、安装Hadoop&lt;/p&gt;
&lt;p&gt;环境准备好之后，就要开始安装Hadoop，Hadoop有很多版本，我们是以hadoop-1.2.1为基础，首先下载Hadoop，下载地址：http://www.apache.org/dyn/closer.cgi/hadoop/common/，下载之后我们把它copy到/home下，解压：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
tar -zxvf hadoop-1.2.1-bin.tar.gz
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;解压之后我们找到Hadoop的conf文件夹，下面我们的配置都将在这个文件夹下&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;首先要配置的文件是：hadoop-env.sh，我们打开这个文件，找到配置JVAV_HOME的那一行，把注释打开，写上我们安装的JDK的路径&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;配置core-site.xml，打开该文件，在文件中添加：&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;lt;configuration&amp;gt;

&amp;lt;property&amp;gt;  
&amp;lt;name&amp;gt;hadoop.tmp.dir&amp;lt;/name&amp;gt;  
&amp;lt;value&amp;gt;/hadoop&amp;lt;/value&amp;gt;  
&amp;lt;/property&amp;gt;

&amp;lt;property&amp;gt;  
&amp;lt;name&amp;gt;dfs.name.dir&amp;lt;/name&amp;gt;  
&amp;lt;value&amp;gt;/hadoop/name&amp;lt;/value&amp;gt;  
&amp;lt;/property&amp;gt;

&amp;lt;property&amp;gt;  
&amp;lt;name&amp;gt;fs.default.name&amp;lt;/name&amp;gt;  
&amp;lt;value&amp;gt;hdfs://localhost:9000&amp;lt;/value&amp;gt;  
&amp;lt;/property&amp;gt;

&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;3&#34;&gt;
&lt;li&gt;配置hdfs-site.xml，同样添加：&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;lt;configuration&amp;gt;  
&amp;lt;property&amp;gt;  
&amp;lt;name&amp;gt;dfs.data.dir&amp;lt;/name&amp;gt;  
&amp;lt;value&amp;gt;/hadoop/data&amp;lt;/value&amp;gt;  
&amp;lt;/property&amp;gt;  
&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;4&#34;&gt;
&lt;li&gt;配置mapred-site.xml，也是添加&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;lt;configuration&amp;gt;  
&amp;lt;property&amp;gt;  
&amp;lt;name&amp;gt;mapred.job.tracker&amp;lt;/name&amp;gt;  
&amp;lt;value&amp;gt;localhost:9001&amp;lt;/value&amp;gt;  
&amp;lt;/property&amp;gt;  
&amp;lt;/configuration&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;ol start=&#34;5&#34;&gt;
&lt;li&gt;下面我们同样需要配置hadoop_home，同样是打开&lt;/li&gt;
&lt;/ol&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
vim /etc/profile
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;在里面添加：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
