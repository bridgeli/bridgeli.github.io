<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>数据库监控 on 分享技术带来的喜悦</title>
    <link>http://localhost:1313/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%91%E6%8E%A7/</link>
    <description>Recent content in 数据库监控 on 分享技术带来的喜悦</description>
    <generator>Hugo -- 0.156.0</generator>
    <language>zh-cn</language>
    <lastBuildDate>Wed, 12 Mar 2025 09:44:14 +0000</lastBuildDate>
    <atom:link href="http://localhost:1313/tags/%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9B%91%E6%8E%A7/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>关于 druid 监控的两个小问题</title>
      <link>http://localhost:1313/posts/2025-03-12-%E5%85%B3%E4%BA%8E-druid-%E7%9B%91%E6%8E%A7%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98/</link>
      <pubDate>Wed, 12 Mar 2025 09:44:14 +0000</pubDate>
      <guid>http://localhost:1313/posts/2025-03-12-%E5%85%B3%E4%BA%8E-druid-%E7%9B%91%E6%8E%A7%E7%9A%84%E4%B8%A4%E4%B8%AA%E5%B0%8F%E9%97%AE%E9%A2%98/</guid>
      <description>&lt;p&gt;前一段时间做一个小需求，需要展示 druid 的监控页面，我们都知道 druid 监控地址是：http://ip:port/druid/index.html，但是当时一直报 404，后来查了资料，引入的 jar 包：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
&amp;lt;dependency&amp;gt;  
&amp;lt;groupId&amp;gt;com.alibaba&amp;lt;/groupId&amp;gt;  
&amp;lt;artifactId&amp;gt;druid&amp;lt;/artifactId&amp;gt;  
&amp;lt;version&amp;gt;1.2.24&amp;lt;/version&amp;gt;  
&amp;lt;/dependency&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;应该是因为不是通过 starter 包引入的，所以需要手动配置：&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
package cn.bridgeli.demo;

import com.alibaba.druid.support.jakarta.StatViewServlet;  
import com.alibaba.druid.support.jakarta.WebStatFilter;  
import com.alibaba.druid.util.Utils;  
import jakarta.servlet.Filter;  
import jakarta.servlet.FilterChain;  
import jakarta.servlet.ServletException;  
import jakarta.servlet.ServletRequest;  
import jakarta.servlet.ServletResponse;  
import org.springframework.boot.web.servlet.FilterRegistrationBean;  
import org.springframework.boot.web.servlet.ServletRegistrationBean;  
import org.springframework.context.annotation.Bean;  
import org.springframework.context.annotation.Configuration;

import java.io.IOException;

@Configuration  
public class DruidConfig {

@Bean  
public ServletRegistrationBean&amp;lt;StatViewServlet&amp;gt; statViewServlet() {  
ServletRegistrationBean&amp;lt;StatViewServlet&amp;gt; servletRegistrationBean = new ServletRegistrationBean&amp;lt;&amp;gt;(new StatViewServlet(), &amp;#34;/druid/*&amp;#34;);  
// 设置登录用户名和密码  
servletRegistrationBean.addInitParameter(&amp;#34;loginUsername&amp;#34;, &amp;#34;BridgeLi&amp;#34;);  
servletRegistrationBean.addInitParameter(&amp;#34;loginPassword&amp;#34;, &amp;#34;BridgeLi&amp;#34;);  
return servletRegistrationBean;  
}

@Bean  
public FilterRegistrationBean&amp;lt;WebStatFilter&amp;gt; webStatFilter() {  
FilterRegistrationBean&amp;lt;WebStatFilter&amp;gt; filterRegistrationBean = new FilterRegistrationBean&amp;lt;&amp;gt;(new WebStatFilter());  
filterRegistrationBean.addUrlPatterns(&amp;#34;/*&amp;#34;);  
filterRegistrationBean.addInitParameter(&amp;#34;exclusions&amp;#34;, &amp;#34;\*.js,\*.gif,\*.jpg,\*.png,\*.css,\*.ico,/druid/*&amp;#34;);  
return filterRegistrationBean;  
}

}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;另外一个小问题就是，这么引入之后，打开监控页最下面会有 alibaba 的广告，一般情况下，我们肯定是想去掉的，广告代码所在的位置在 support/http/resources/js/common.js 这个 js 里面，网上有人说直接解压删掉，重新打包就行了，但是这个有问题就是必须用重新打包的这个 jar，搜了一下资料，其实去掉也很简单，在上面的那个类里面增加一个 配置过滤掉即可：&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
